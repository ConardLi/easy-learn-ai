!function(){var e,t,s,a,r={6930:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s("5893");s("7294");var r=s("4788"),n=s("3585");function l(){return(0,a.jsxs)("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex flex-col",children:[(0,a.jsx)(r.d,{}),(0,a.jsx)("div",{className:"flex-1 flex flex-col min-h-0",children:(0,a.jsx)(n.f,{})})]})}},5786:function(e,t,s){"use strict";s.d(t,{x:function(){return g}}),s("9560"),s("9734"),s("9929"),s("6301"),s("5123");var a=s("5893"),r=s("7294"),n=s("9259"),l=s("9364"),i=s("3942"),o=s("1728"),c=s("2213"),d=s("9032"),u=s("9568"),m=s("946"),x=s("6746");let g=()=>{let[e]=(0,n.KO)(u.$g),[t,s]=(0,n.KO)(u.qw),[g,h]=(0,n.KO)(u.UU),[p,f]=(0,n.KO)(u.yu),[b,y]=(0,n.KO)(u.Gx),[v,j]=(0,r.useState)(""),[w,N]=(0,r.useState)(null),[S,k]=(0,r.useState)(null),T=(0,r.useRef)(null),D=e=>({auto:"Any Language","zh-CN":"Simplified Chinese","zh-TW":"Traditional Chinese",en:"English",ja:"Japanese",ko:"Korean",fr:"French",de:"German",es:"Spanish",ru:"Russian",ar:"Arabic",pt:"Portuguese",it:"Italian"})[e]||e,$=async t=>{if(e.apiKey){k(null);try{let a=`doc-task-${Date.now()}`,r={id:a,asyncId:"",fileName:t.name,status:"pending",startTime:Date.now()},n={id:`user-${Date.now()}`,type:"user",content:`\u{1F4C4} ${t.name}`,timestamp:Date.now()},l={id:`assistant-${Date.now()}`,type:"assistant",content:"\u6B63\u5728\u4E0A\u4F20\u6587\u4EF6\u5E76\u521B\u5EFA\u4E13\u4E1A\u7FFB\u8BD1\u4EFB\u52A1...",timestamp:Date.now(),isDocTranslation:!0,translationStatus:"pending"};s(e=>[...e,n,l]),h(!0);let i=await m.D.uploadFile(t,e.apiKey);if(!i.id)throw new m.M({code:400,msg:"\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25\uFF1A\u672A\u83B7\u53D6\u5230\u6587\u4EF6ID",success:!1});console.log("\u6587\u4EF6\u4E0A\u4F20\u6210\u529F:",{fileId:i.id,filename:i.filename,bytes:i.bytes}),s(e=>e.map(e=>e.id===l.id?{...e,content:`\u{6587}\u{4EF6}\u{4E0A}\u{4F20}\u{6210}\u{529F}\u{FF08}ID: ${i.id.slice(-8)}\u{FF09}\u{FF0C}\u{6B63}\u{5728}\u{521B}\u{5EFA}\u{4E13}\u{4E1A}\u{7FFB}\u{8BD1}\u{4EFB}\u{52A1}...`}:e));let o=await m.D.createDocTranslationTask(i.id,D(e.sourceLang),D(e.targetLang),e.apiKey,!0);console.log("\u521B\u5EFA\u7FFB\u8BD1\u4EFB\u52A1\u7684\u5B8C\u6574\u54CD\u5E94:",o);let c=o.async_id||o.asyncId||o.id||o.task_id;if(!c)throw console.error("\u4EFB\u52A1\u521B\u5EFA\u5931\u8D25\uFF0C\u54CD\u5E94\u6570\u636E:",o),new m.M({code:400,msg:`\u{521B}\u{5EFA}\u{7FFB}\u{8BD1}\u{4EFB}\u{52A1}\u{5931}\u{8D25}\u{FF1A}\u{672A}\u{83B7}\u{53D6}\u{5230}\u{4EFB}\u{52A1}ID\u{3002}\u{54CD}\u{5E94}: ${JSON.stringify(o)}`,success:!1});console.log("\u7FFB\u8BD1\u4EFB\u52A1\u521B\u5EFA\u6210\u529F:",{asyncId:c,status:o.status}),r.asyncId=c,r.status="processing",y(e=>[...e,r]),s(e=>e.map(e=>e.id===l.id?{...e,content:`\u{4E13}\u{4E1A}\u{7FFB}\u{8BD1}\u{4EFB}\u{52A1}\u{5DF2}\u{521B}\u{5EFA}\u{FF08}ID: ${c.slice(-8)}\u{FF09}\u{FF0C}\u{6B63}\u{5728}\u{5904}\u{7406}\u{4E2D}...`,asyncId:c,translationStatus:"processing"}:e)),m.D.pollDocTranslationResult(c,e.apiKey,(e,t)=>{var r,n,i,o;if(console.log("\u8F6E\u8BE2\u72B6\u6001\u66F4\u65B0:",{status:e,asyncId:c}),y(t=>t.map(t=>t.id===a?{...t,status:e}:t)),"success"===e&&(null==t?void 0:null===(o=t.choices)||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:null===(n=i.messages)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.content)){let e=t.choices[0].messages[0].content.filter(e=>"file_url"===e.type).map(e=>({url:e.file_url,type:"originalFileUrl"===e.tag_en?"original":"translatedFileUrl"===e.tag_en?"translated":"bilingual",label:e.tag_cn}));console.log("\u89E3\u6790\u5230\u7684\u4E0B\u8F7D\u94FE\u63A5:",e),s(t=>t.map(t=>t.id===l.id?{...t,content:"\u2705 \u4E13\u4E1A\u6587\u6863\u7FFB\u8BD1\u5B8C\u6210\uFF01\u60A8\u53EF\u4EE5\u4E0B\u8F7D\u4EE5\u4E0B\u6587\u4EF6\uFF1A",translationStatus:"success",downloadLinks:e}:t)),y(t=>t.map(t=>t.id===a?{...t,status:"success",endTime:Date.now(),downloadLinks:e}:t))}else("processing"===e||"pending"===e)&&s(t=>t.map(t=>t.id===l.id?{...t,content:`\u{1F4CA} \u{4E13}\u{4E1A}\u{6587}\u{6863}\u{7FFB}\u{8BD1}\u{8FDB}\u{884C}\u{4E2D}...\u{FF08}\u{72B6}\u{6001}\u{FF1A}${e}\u{FF09}`}:t))}).catch(e=>{console.error("\u8F6E\u8BE2\u5931\u8D25:",e),k(e),s(t=>t.map(t=>t.id===l.id?{...t,content:`\u{274C} \u{4E13}\u{4E1A}\u{7FFB}\u{8BD1}\u{5931}\u{8D25}: ${e.message}`,translationStatus:"failed"}:t)),y(t=>t.map(t=>t.id===a?{...t,status:"failed",endTime:Date.now(),error:e.message}:t))}).finally(()=>{h(!1)})}catch(e){console.error("\u4E13\u4E1A\u7FFB\u8BD1\u8FC7\u7A0B\u51FA\u9519:",e),k(e instanceof m.M?e:new m.M({code:0,msg:`\u{4E13}\u{4E1A}\u{6587}\u{6863}\u{7FFB}\u{8BD1}\u{5931}\u{8D25}: ${e.message}`,success:!1})),h(!1)}N(null),T.current&&(T.current.value="")}},_=async t=>{if(!t||!t.trim()||!e.apiKey)return;k(null);let a={id:`user-${Date.now()}`,type:"user",content:t,timestamp:Date.now()},r={id:`assistant-${Date.now()}`,type:"assistant",content:"",timestamp:Date.now(),isStreaming:!0};s(e=>[...e,a,r]),h(!0),f(r.id);await m.D.streamTranslation({text:t,sourceLang:e.sourceLang,targetLang:e.targetLang,strategy:e.strategy,apiKey:e.apiKey},e=>{s(t=>t.map(t=>t.id===r.id?{...t,content:t.content+e}:t))},()=>{s(e=>e.map(e=>e.id===r.id?{...e,isStreaming:!1}:e)),h(!1),f(null)},e=>{k(e),s(t=>t.map(t=>t.id===r.id?{...t,content:`\u{274C} ${e.getErrorType()}: ${e.message}`,isStreaming:!1}:t)),h(!1),f(null)}),j("")},O=async t=>{if(t.preventDefault(),t.stopPropagation(),!e.apiKey){k(new m.M({code:400,msg:"\u8BF7\u5148\u914D\u7F6E API \u5BC6\u94A5",success:!1}));return}w?await $(w):v.trim()&&await _(v)},A=(v.trim()||w)&&!g&&e.apiKey;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border-t border-gray-200 bg-white/80 backdrop-blur-lg",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto p-4",children:(0,a.jsxs)("form",{onSubmit:O,className:"space-y-3",children:[w&&(0,a.jsxs)("div",{className:"flex items-center justify-between bg-purple-50 border border-purple-200 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm text-purple-700 truncate",children:w.name}),(0,a.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded flex items-center space-x-1",children:(0,a.jsx)("span",{children:"\u4E13\u4E1A\u7FFB\u8BD1"})})]}),(0,a.jsx)("button",{type:"button",onClick:()=>{N(null),T.current&&(T.current.value="")},disabled:g,className:"text-purple-500 hover:text-purple-700 transition-colors disabled:text-gray-400",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)("textarea",{value:v,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),O(e))},placeholder:w?"\u70B9\u51FB\u53D1\u9001\u5F00\u59CB\u4E13\u4E1A\u6587\u6863\u7FFB\u8BD1":"\u8F93\u5165\u8981\u7FFB\u8BD1\u7684\u6587\u672C...",rows:3,disabled:g||!e.apiKey||!!w,className:"w-full px-4 py-3 pr-28 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none disabled:bg-gray-50 disabled:text-gray-500",style:{minHeight:"80px",maxHeight:"160px"}}),(0,a.jsx)("input",{ref:T,type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.json,.epub,.po,.srt,.html,.htm,.xhtml,.xml,.zip,.xlf,.xliff,.webp,.md,.odt,.ods,.odp,.csv,.yml,.yaml,.php,.ai,.indd,.wav,.mp3,.wma,.m4a,.amr",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(s.size>104857600){k(new m.M({code:400,msg:"\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 100MB",success:!1}));return}N(s),j("")}},className:"hidden"}),!w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.click()},disabled:g||!e.apiKey,className:"absolute right-20 bottom-3 p-2 text-gray-400 hover:text-gray-600 disabled:text-gray-300 transition-colors",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{type:"button",onClick:()=>{s([]),y([]),j(""),N(null),k(null)},disabled:g,className:"absolute right-12 bottom-3 p-2 text-gray-400 hover:text-red-500 disabled:text-gray-300 transition-colors",title:"\u6E05\u7A7A\u6D88\u606F",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("button",{type:"submit",disabled:!A,className:`absolute right-3 bottom-3 p-2 rounded-lg transition-all duration-200 ${A?"bg-blue-500 text-white hover:bg-blue-600 hover:scale-105 shadow-md":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:g?(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:"\u6309 Enter \u53D1\u9001\uFF0CShift + Enter \u6362\u884C"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.apiKey&&(0,a.jsx)("span",{className:"text-amber-600",children:"\u8BF7\u5148\u914D\u7F6E API \u5BC6\u94A5"}),w&&!g&&(0,a.jsx)("span",{className:"text-purple-600",children:"\u4E13\u4E1A\u6587\u6863\u7FFB\u8BD1"}),g&&(0,a.jsx)("span",{className:"text-blue-600",children:w?"\u4E13\u4E1A\u6587\u6863\u7FFB\u8BD1\u4E2D...":"\u7FFB\u8BD1\u4E2D..."})]})]})]})})}),(0,a.jsx)(x.P,{error:S,onClose:()=>k(null)})]})}},7560:function(e,t,s){"use strict";s.d(t,{r:function(){return i}}),s("9560"),s("9734");var a=s("5893");s("7294");var r=s("9259"),n=s("9568"),l=s("9164");let i=()=>{let[e]=(0,r.KO)(n.qw),[t]=(0,r.KO)(n.yu);return(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(l.f,{message:e,isStreaming:e.id===t},e.id))})}},9164:function(e,t,s){"use strict";s.d(t,{f:function(){return n}}),s("9560"),s("9734"),s("6330"),s("8221"),s("5863");var a=s("5893");s("7294");var r=s("7184");let n=e=>{let{message:t,isStreaming:s=!1}=e,n="user"===t.type;return(0,a.jsx)("div",{className:`flex ${n?"justify-end":"justify-start"} mb-4`,children:(0,a.jsxs)("div",{className:`
          max-w-[80%] rounded-2xl px-4 py-3 shadow-sm
          ${n?"bg-blue-500 text-white ml-12":"bg-white border border-gray-200 mr-12"}
        `,children:[(0,a.jsxs)("div",{className:`text-sm whitespace-pre-wrap break-words ${n?"text-white":"text-gray-800"}`,children:[t.content,s&&(0,a.jsx)("span",{className:"inline-block w-2 h-4 bg-current animate-pulse ml-1"})]}),t.isDocTranslation&&t.translationStatus&&(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,a.jsx)("div",{className:`
              w-2 h-2 rounded-full
              ${"pending"===t.translationStatus?"bg-yellow-400 animate-pulse":"processing"===t.translationStatus?"bg-blue-400 animate-spin":"success"===t.translationStatus?"bg-green-400":"bg-red-400"}
            `}),(0,a.jsx)("span",{className:`text-xs ${n?"text-blue-100":"text-gray-500"}`,children:"pending"===t.translationStatus?"\u51C6\u5907\u4E2D":"processing"===t.translationStatus?"\u7FFB\u8BD1\u4E2D":"success"===t.translationStatus?"\u5DF2\u5B8C\u6210":"\u5931\u8D25"})]}),t.downloadLinks&&t.downloadLinks.length>0&&(0,a.jsxs)("div",{className:"mt-3 space-y-2 border-t pt-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"\u6587\u4EF6\u4E0B\u8F7D\uFF1A"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:t.downloadLinks.map((e,t)=>{let s=new URLSearchParams(e.url.split("?")[1]||"").get("ufileattname");return s&&decodeURIComponent(s),(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100 active:bg-gray-200 rounded-lg transition-colors text-sm group/download no-underline",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-gray-700 truncate flex-1",children:e.label}),(0,a.jsx)("span",{className:`px-2 py-0.5 rounded text-xs flex-shrink-0 ${"original"===e.type?"bg-blue-100 text-blue-700":"translated"===e.type?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:"original"===e.type?"\u539F\u6587":"translated"===e.type?"\u8BD1\u6587":"\u53CC\u8BED"})]}),(0,a.jsx)(r.Z,{className:"w-3 h-3 text-gray-400 group-hover/download:text-blue-500 transition-colors flex-shrink-0"})]},t)})}),!1]}),(0,a.jsx)("div",{className:`text-xs mt-2 ${n?"text-blue-100":"text-gray-400"}`,children:new Date(t.timestamp).toLocaleTimeString()})]})})}},916:function(e,t,s){"use strict";s.d(t,{B:function(){return d}}),s("9560"),s("9734");var a=s("5893");s("7294");var r=s("9259"),n=s("1432"),l=s("9030"),i=s("1512"),o=s("3081"),c=s("9568");let d=()=>{let[e]=(0,r.KO)(c.$g),t=[{icon:(0,a.jsx)(n.Z,{className:"w-6 h-6"}),title:"\u667A\u80FD\u7FFB\u8BD1",description:"\u57FA\u4E8EAI\u7684\u9AD8\u8D28\u91CF\u7FFB\u8BD1\u670D\u52A1"},{icon:(0,a.jsx)(l.Z,{className:"w-6 h-6"}),title:"\u591A\u8BED\u8A00\u652F\u6301",description:"\u652F\u6301\u6570\u5341\u79CD\u8BED\u8A00\u4E92\u8BD1"},{icon:(0,a.jsx)(i.Z,{className:"w-6 h-6"}),title:"\u5B9E\u65F6\u6D41\u5F0F",description:"\u6D41\u5F0F\u8F93\u51FA\uFF0C\u5373\u65F6\u67E5\u770B\u7FFB\u8BD1\u8FDB\u5EA6"}];return(0,a.jsxs)("div",{className:"text-center max-w-2xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"AI \u667A\u80FD\u7FFB\u8BD1"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"\u4E13\u4E1A\u3001\u9AD8\u6548\u3001\u667A\u80FD\u7684\u7FFB\u8BD1\u4F53\u9A8C"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/50 border border-gray-200",children:[(0,a.jsx)("div",{className:"text-blue-500 mb-3 flex justify-center",children:e.icon}),(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},t))}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:e.apiKey?(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"\uD83C\uDF89 \u914D\u7F6E\u5B8C\u6210\uFF0C\u5F00\u59CB\u7FFB\u8BD1\u5427\uFF01"}),(0,a.jsx)("p",{className:"text-blue-700",children:"\u5728\u4E0B\u65B9\u8F93\u5165\u6587\u672C\u6216\u4E0A\u4F20\u6587\u4EF6\uFF0C\u5373\u53EF\u5F00\u59CB\u60A8\u7684\u7FFB\u8BD1\u4E4B\u65C5"})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-amber-800 mb-2",children:"\u2699\uFE0F \u8BF7\u5148\u914D\u7F6E API \u5BC6\u94A5"}),(0,a.jsx)("p",{className:"text-amber-700",children:"\u70B9\u51FB\u9876\u90E8\u7684\u914D\u7F6E\u6309\u94AE\uFF0C\u8F93\u5165\u60A8\u7684 API \u5BC6\u94A5\u5373\u53EF\u5F00\u59CB\u4F7F\u7528"})]})})]})}},3585:function(e,t,s){"use strict";s.d(t,{f:function(){return d}});var a=s("5893"),r=s("7294"),n=s("9259"),l=s("9568"),i=s("7560"),o=s("5786"),c=s("916");let d=()=>{let[e]=(0,n.KO)(l.qw),[t]=(0,n.KO)(l.yu),s=(0,r.useRef)(null);return((0,r.useEffect)(()=>{var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e,t]),0===e.length)?(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)(c.B,{})}),(0,a.jsx)(o.x,{})]}):(0,a.jsxs)("div",{className:"flex flex-col h-full max-w-4xl mx-auto w-full",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:[(0,a.jsx)(i.r,{}),(0,a.jsx)("div",{ref:s})]}),(0,a.jsx)(o.x,{})]})}},9419:function(e,t,s){"use strict";s.d(t,{R:function(){return d}});var a=s("5893"),r=s("7294"),n=s("9259"),l=s("7452"),i=s("8328"),o=s("7321"),c=s("9568");let d=e=>{let{onClose:t}=e,[s,d]=(0,n.KO)(c.$g),[u,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(s.apiKey);return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"API \u5BC6\u94A5\u914D\u7F6E"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:u?"text":"password",value:x,onChange:e=>g(e.target.value),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684 API \u5BC6\u94A5",className:"w-full px-3 py-2 pr-10 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,a.jsx)("button",{type:"button",onClick:()=>m(!u),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?(0,a.jsx)(l.Z,{className:"w-4 h-4"}):(0,a.jsx)(i.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)("button",{onClick:t,className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"\u53D6\u6D88"}),(0,a.jsxs)("button",{onClick:()=>{d(e=>({...e,apiKey:x})),t()},disabled:!x.trim(),className:"flex items-center space-x-1 px-3 py-1.5 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 disabled:bg-gray-300 transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"\u4FDD\u5B58"})]})]})]})]})}},7054:function(e,t,s){"use strict";s.d(t,{Y:function(){return o}});var a=s("5893"),r=s("7294"),n=s("9419"),l=s("2812"),i=s("6433");let o=e=>{let{type:t,icon:s,label:o,status:c,active:d,onToggle:u,fullWidth:m=!1}=e,x=(0,r.useRef)(null),[g,h]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&d&&u()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[d,u]),(0,a.jsxs)("div",{className:`relative ${m?"w-full":""}`,ref:x,children:[(0,a.jsxs)("button",{onClick:()=>{"strategy"===t?h(!0):u()},className:`
          flex items-center space-x-2 px-3 py-2 rounded-lg border transition-all
          ${m?"w-full justify-start":""}
          ${d?"bg-blue-50 border-blue-200 text-blue-700":`hover:bg-gray-50 ${(()=>{switch(c){case"success":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-amber-600 bg-amber-50 border-amber-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}})()}`}
        `,children:[s,(0,a.jsx)("span",{className:"text-sm font-medium truncate",children:o}),c&&(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ml-auto ${"success"===c?"bg-green-500":"warning"===c?"bg-amber-500":"bg-red-500"}`})]}),d&&"strategy"!==t&&(0,a.jsx)("div",{className:`
          absolute top-full mt-2 bg-white rounded-xl shadow-lg border border-gray-200 z-50
          ${m?"left-0 right-0":"left-0 w-80"}
        `,children:(()=>{switch(t){case"apikey":return(0,a.jsx)(n.R,{onClose:()=>u()});case"language":return(0,a.jsx)(l.h,{onClose:()=>u()});default:return null}})()}),"strategy"===t&&(0,a.jsx)(i.i,{isOpen:g,onClose:()=>h(!1)})]})}},2812:function(e,t,s){"use strict";s.d(t,{h:function(){return o}}),s("9560"),s("9734");var a=s("5893");s("7294");var r=s("9259"),n=s("8188"),l=s("9568"),i=s("2023");let o=e=>{let{onClose:t}=e,[s,o]=(0,r.KO)(l.$g),c=e=>{o(t=>({...t,sourceLang:e}))},d=e=>{o(t=>({...t,targetLang:e}))};return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"\u8BED\u8A00\u914D\u7F6E"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\u6E90\u8BED\u8A00"}),(0,a.jsx)("select",{value:s.sourceLang,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:i.E.map(e=>(0,a.jsx)("option",{value:e.code,children:e.name},e.code))})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-4 h-4 text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"\u76EE\u6807\u8BED\u8A00"}),(0,a.jsx)("select",{value:s.targetLang,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:i.k.map(e=>(0,a.jsx)("option",{value:e.code,children:e.name},e.code))})]})]})]})}},6433:function(e,t,s){"use strict";s.d(t,{i:function(){return u}}),s("9560"),s("9734"),s("793"),s("102"),s("5123");var a=s("5893");s("7294");var r=s("3935"),n=s("9259"),l=s("1432"),i=s("9227"),o=s("4885"),c=s("9568"),d=s("2222");let u=e=>{var t;let{isOpen:s,onClose:u}=e,[m,x]=(0,n.KO)(c.$g),g=e=>{x(t=>({...t,strategy:e})),u()};return s?(0,r.createPortal)((0,a.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:u}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden transform transition-all flex flex-col",children:[(0,a.jsxs)("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white p-6",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -mr-12 -mt-12"}),(0,a.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"\u9009\u62E9\u7FFB\u8BD1\u7B56\u7565"}),(0,a.jsx)("p",{className:"text-blue-100 text-sm mt-0.5",children:"\u627E\u5230\u6700\u9002\u5408\u60A8\u9700\u6C42\u7684\u7FFB\u8BD1\u65B9\u5F0F"})]})]}),(0,a.jsx)("button",{onClick:u,className:"p-2 hover:bg-white/10 rounded-xl transition-colors backdrop-blur-sm",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-white"})})]})]}),(0,a.jsx)("div",{className:"flex-1 p-6 overflow-y-auto",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.Y.map(e=>{let t=m.strategy===e.id;return(0,a.jsxs)("div",{onClick:()=>g(e.id),className:`
                    relative group cursor-pointer rounded-xl border-2 transition-all duration-300 hover:scale-[1.01] hover:shadow-lg
                    ${t?"border-blue-400 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}
                  `,children:[t&&(0,a.jsx)("div",{className:"absolute -top-1.5 -right-1.5 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:(0,a.jsx)(o.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)("div",{className:`
                        w-10 h-10 rounded-lg flex items-center justify-center text-base font-bold transition-colors
                        ${t?"bg-blue-500 text-white":"bg-gradient-to-br from-gray-100 to-gray-200 text-gray-700 group-hover:from-blue-100 group-hover:to-indigo-100 group-hover:text-blue-700"}
                      `,children:e.name.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:`text-lg font-bold transition-colors ${t?"text-blue-700":"text-gray-800 group-hover:text-blue-700"}`,children:e.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500 font-mono",children:e.id})]})]}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-3",children:e.description})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h4",{className:"text-xs font-semibold text-gray-600 mb-1.5 flex items-center",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full mr-2"}),"\u9002\u7528\u573A\u666F"]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed pl-3.5 line-clamp-2",children:e.applicableScenes})]}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),g(e.id)},className:`
                        w-full py-2.5 px-4 rounded-lg font-medium transition-all text-sm
                        ${t?"bg-blue-500 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-blue-50 hover:text-blue-700 group-hover:bg-blue-100"}
                      `,children:t?"\u2713 \u5DF2\u9009\u62E9":"\u9009\u62E9\u6B64\u7B56\u7565"})]})]},e.id)})})}),(0,a.jsx)("div",{className:"border-t border-gray-200 bg-gray-50/80 backdrop-blur-sm px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["\u5F53\u524D\uFF1A",(0,a.jsx)("span",{className:"font-bold text-blue-600 ml-1",children:null===(t=d.Y.find(e=>e.id===m.strategy))||void 0===t?void 0:t.name})]})]}),(0,a.jsx)("button",{onClick:u,className:"px-6 py-2.5 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all font-medium shadow-md hover:shadow-lg text-sm",children:"\u5B8C\u6210\u9009\u62E9"})]})})]})]}),document.body):null}},4788:function(e,t,s){"use strict";s.d(t,{d:function(){return h}}),s("793"),s("102"),s("5123");var a=s("5893"),r=s("7294"),n=s("9259"),l=s("3081"),i=s("4332"),o=s("9030"),c=s("513"),d=s("8515"),u=s("3436"),m=s("9568"),x=s("7054"),g=s("2222");let h=()=>{let[e]=(0,n.KO)(m.$g),[t,s]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),f=e.apiKey.length>0,b=g.Y.find(t=>t.id===e.strategy);return(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 shadow-sm",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-800",children:"AI\u7FFB\u8BD1"})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,a.jsx)(x.Y,{type:"apikey",icon:(0,a.jsx)(i.Z,{className:"w-4 h-4"}),label:f?"API\u5DF2\u914D\u7F6E":"\u914D\u7F6EAPI",status:f?"success":"warning",active:"apikey"===h,onToggle:()=>p("apikey"===h?null:"apikey")}),(0,a.jsx)(x.Y,{type:"language",icon:(0,a.jsx)(o.Z,{className:"w-4 h-4"}),label:`${e.sourceLang} \u{2192} ${e.targetLang}`,active:"language"===h,onToggle:()=>p("language"===h?null:"language")}),(0,a.jsx)(x.Y,{type:"strategy",icon:(0,a.jsx)(c.Z,{className:"w-4 h-4"}),label:(null==b?void 0:b.name)||"\u7FFB\u8BD1\u7B56\u7565",active:"strategy"===h,onToggle:()=>p("strategy"===h?null:"strategy")})]}),(0,a.jsx)("button",{onClick:()=>s(!t),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t?(0,a.jsx)(d.Z,{className:"w-5 h-5 text-gray-600"}):(0,a.jsx)(u.Z,{className:"w-5 h-5 text-gray-600"})})]}),t&&(0,a.jsxs)("div",{className:"md:hidden border-t border-gray-200/50 px-4 py-3 space-y-2",children:[(0,a.jsx)(x.Y,{type:"apikey",icon:(0,a.jsx)(i.Z,{className:"w-4 h-4"}),label:f?"API\u5DF2\u914D\u7F6E":"\u914D\u7F6EAPI",status:f?"success":"warning",active:"apikey"===h,onToggle:()=>p("apikey"===h?null:"apikey"),fullWidth:!0}),(0,a.jsx)(x.Y,{type:"language",icon:(0,a.jsx)(o.Z,{className:"w-4 h-4"}),label:"\u8BED\u8A00\u914D\u7F6E",active:"language"===h,onToggle:()=>p("language"===h?null:"language"),fullWidth:!0}),(0,a.jsx)(x.Y,{type:"strategy",icon:(0,a.jsx)(c.Z,{className:"w-4 h-4"}),label:(null==b?void 0:b.name)||"\u7FFB\u8BD1\u7B56\u7565",active:"strategy"===h,onToggle:()=>p("strategy"===h?null:"strategy"),fullWidth:!0})]})]})})}},6746:function(e,t,s){"use strict";s.d(t,{P:function(){return n}});var a=s("5893");s("7294");var r=s("9227");let n=e=>{let{error:t,onClose:s}=e;return t?(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:(0,a.jsx)("div",{className:`
        rounded-lg border p-4 shadow-lg backdrop-blur-sm transition-all duration-300
        ${(()=>{if(401===t.code)return"border-red-200 bg-red-50 text-red-800";if(429===t.code)return"border-yellow-200 bg-yellow-50 text-yellow-800";if(t.code>=500)return"border-gray-200 bg-gray-50 text-gray-800";else return"border-orange-200 bg-orange-50 text-orange-800"})()}
      `,children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:(()=>{if(401===t.code)return"\uD83D\uDD10";if(429===t.code)return"\u23F0";if(t.code>=500)return"\uD83D\uDD27";else return"\u26A0\uFE0F"})()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"font-semibold text-sm",children:[t.getErrorType()," (\u4EE3\u7801: ",t.code,")"]}),(0,a.jsx)("button",{onClick:s,className:"p-1 hover:bg-black/10 rounded transition-colors",children:(0,a.jsx)(r.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("p",{className:"text-sm mt-1 leading-relaxed",children:t.message}),401===t.code&&(0,a.jsx)("p",{className:"text-xs mt-2 opacity-80",children:"\uD83D\uDCA1 \u5EFA\u8BAE\uFF1A\u8BF7\u68C0\u67E5API\u5BC6\u94A5\u662F\u5426\u6B63\u786E\uFF0C\u6216\u91CD\u65B0\u914D\u7F6E"}),429===t.code&&(0,a.jsx)("p",{className:"text-xs mt-2 opacity-80",children:"\uD83D\uDCA1 \u5EFA\u8BAE\uFF1A\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF0C\u907F\u514D\u9891\u7E41\u8BF7\u6C42"})]})]})})}):null}},2023:function(e,t,s){"use strict";s.d(t,{E:function(){return a},k:function(){return r}});let a=[{code:"auto",name:"\u81EA\u52A8\u68C0\u6D4B"},{code:"zh-CN",name:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",name:"\u7E41\u4F53\u4E2D\u6587"},{code:"wyw",name:"\u6587\u8A00\u6587"},{code:"yue",name:"\u7CA4\u8BED"},{code:"en",name:"\u82F1\u8BED"},{code:"ja",name:"\u65E5\u8BED"},{code:"ko",name:"\u97E9\u8BED"},{code:"fr",name:"\u6CD5\u8BED"},{code:"de",name:"\u5FB7\u8BED"},{code:"es",name:"\u897F\u73ED\u7259\u8BED"},{code:"ru",name:"\u4FC4\u8BED"},{code:"pt",name:"\u8461\u8404\u7259\u8BED"},{code:"it",name:"\u610F\u5927\u5229\u8BED"},{code:"ar",name:"\u963F\u62C9\u4F2F\u8BED"},{code:"hi",name:"\u5370\u5730\u8BED"},{code:"th",name:"\u6CF0\u8BED"},{code:"vi",name:"\u8D8A\u5357\u8BED"},{code:"my",name:"\u7F05\u7538\u8BED"},{code:"ms",name:"\u9A6C\u6765\u8BED"}],r=[{code:"zh-CN",name:"\u7B80\u4F53\u4E2D\u6587"},{code:"zh-TW",name:"\u7E41\u4F53\u4E2D\u6587"},{code:"wyw",name:"\u6587\u8A00\u6587"},{code:"yue",name:"\u7CA4\u8BED"},{code:"en",name:"\u82F1\u8BED"},{code:"en-GB",name:"\u82F1\u8BED\uFF08\u82F1\u56FD\uFF09"},{code:"en-US",name:"\u82F1\u8BED\uFF08\u7F8E\u56FD\uFF09"},{code:"ja",name:"\u65E5\u8BED"},{code:"ko",name:"\u97E9\u8BED"},{code:"fr",name:"\u6CD5\u8BED"},{code:"de",name:"\u5FB7\u8BED"},{code:"es",name:"\u897F\u73ED\u7259\u8BED"},{code:"ru",name:"\u4FC4\u8BED"},{code:"pt",name:"\u8461\u8404\u7259\u8BED"},{code:"it",name:"\u610F\u5927\u5229\u8BED"},{code:"ar",name:"\u963F\u62C9\u4F2F\u8BED"},{code:"hi",name:"\u5370\u5730\u8BED"},{code:"th",name:"\u6CF0\u8BED"},{code:"vi",name:"\u8D8A\u5357\u8BED"},{code:"my",name:"\u7F05\u7538\u8BED"},{code:"ms",name:"\u9A6C\u6765\u8BED"}]},2222:function(e,t,s){"use strict";s.d(t,{Y:function(){return a}});let a=[{id:"general",name:"\u901A\u7528\u7FFB\u8BD1",description:"\u57FA\u7840\u7FFB\u8BD1\u65B9\u6CD5\uFF0C\u4FDD\u6301\u539F\u6587\u683C\u5F0F\uFF0C\u8003\u8651\u76EE\u6807\u8BED\u8A00\u7684\u6587\u5316\u80CC\u666F\u548C\u8BED\u8A00\u4E60\u60EF\uFF0C\u5E73\u8861\u51C6\u786E\u6027\u548C\u6D41\u7545\u5EA6\uFF0C\u89E3\u51B395%\u4EE5\u4E0A\u7684\u63D0\u793A\u6CE8\u5165\u95EE\u9898",applicableScenes:"\u4E00\u822C\u6027\u5185\u5BB9\u7FFB\u8BD1\uFF0C\u9002\u7528\u4E8E\u5927\u591A\u6570\u65E5\u5E38\u7FFB\u8BD1\u9700\u6C42\uFF0C\u5E76\u4E14\u53EF\u89E3\u51B3\u5927\u90E8\u5206\u63D0\u793A\u6CE8\u5165\u95EE\u9898",features:["\u4FDD\u6301\u539F\u6587\u683C\u5F0F","\u9075\u5FAA\u7FFB\u8BD1\u89C4\u5219","\u53EF\u4F7F\u7528\u672F\u8BED\u8868","\u53EF\u9002\u5E94\u76EE\u6807\u8BED\u8A00\u7684\u5730\u533A\u7279\u70B9"]},{id:"paraphrase",name:"\u8F6C\u8FF0\u7FFB\u8BD1",description:"\u5C0A\u91CD\u539F\u610F\u4F46\u91CD\u5199\u5185\u5BB9\uFF0C\u4EE5\u76EE\u6807\u8BED\u8A00\u7684\u8868\u8FBE\u65B9\u5F0F\u4F20\u8FBE\u6E90\u6587\u672C\u7684\u542B\u4E49",applicableScenes:"\u9700\u8981\u66F4\u81EA\u7136\u5730\u9002\u5E94\u76EE\u6807\u8BED\u8A00\u6587\u5316\u7684\u5185\u5BB9\uFF0C\u975E\u4E25\u683C\u5BF9\u5E94\u7FFB\u8BD1\u573A\u666F",features:["\u66F4\u6CE8\u91CD\u8868\u8FBE\u539F\u610F\u800C\u975E\u539F\u6587\u5F62\u5F0F","\u66F4\u81EA\u7136\u5730\u9002\u5E94\u76EE\u6807\u8BED\u8A00\u4E60\u60EF","\u5141\u8BB8\u66F4\u5927\u7684\u91CD\u6784\u81EA\u7531\u5EA6"]},{id:"two_step",name:"\u4E24\u6B65\u7FFB\u8BD1",description:"\u5206\u4E3A\u76F4\u8BD1\u548C\u610F\u8BD1\u4E24\u4E2A\u6B65\u9AA4\uFF0C\u5148\u505A\u9010\u5B57\u5BF9\u5E94\u7FFB\u8BD1\uFF0C\u518D\u57FA\u4E8E\u76F4\u8BD1\u8FDB\u884C\u81EA\u7531\u7FFB\u8BD1",applicableScenes:"\u6587\u5B66\u4F5C\u54C1\u3001\u9700\u8981\u517C\u987E\u51C6\u786E\u6027\u548C\u8868\u8FBE\u6027\u7684\u5185\u5BB9",features:["\u7ED3\u5408\u5B57\u9762\u548C\u610F\u4E49\u7FFB\u8BD1\u7684\u4F18\u70B9","\u66F4\u5168\u9762\u5730\u7406\u89E3\u6587\u672C","\u5206\u6B65\u5904\u7406\u63D0\u9AD8\u51C6\u786E\u6027\u548C\u8868\u8FBE\u6D41\u7545\u5EA6"]},{id:"three_step",name:"\u4E09\u5173\u7FFB\u8BD1",description:'\u57FA\u4E8E\u4E2D\u56FD\u4F20\u7EDF\u7FFB\u8BD1\u7406\u8BBA"\u4FE1\u3001\u8FBE\u3001\u96C5"\u4E09\u4E2A\u6807\u51C6\u8FDB\u884C\u7FFB\u8BD1\uFF0C\u4F9D\u6B21\u786E\u4FDD\u5185\u5BB9\u51C6\u786E\uFF08\u4FE1\uFF09\u3001\u8868\u8FBE\u6D41\u7545\uFF08\u8FBE\uFF09\u3001\u98CE\u683C\u4F18\u7F8E\uFF08\u96C5\uFF09\uFF0C\u53EF\u6307\u5B9A\u7FFB\u8BD1\u98CE\u683C\uFF08\u76EE\u524D\u53EA\u652F\u6301\u53E4\u98CE\u6587\u8A00\u6587\uFF09\uFF0C\u9002\u5408\u5BF9\u7FFB\u8BD1\u8D28\u91CF\u6709\u8F83\u9AD8\u8981\u6C42\u7684\u6587\u5B66\u3001\u6587\u5316\u7C7B\u5185\u5BB9',applicableScenes:"\u9AD8\u8D28\u91CF\u9700\u6C42\u7684\u6587\u5B66\u3001\u8BD7\u6B4C\u6216\u9700\u8981\u8FFD\u6C42\u827A\u672F\u6027\u7684\u6587\u672C\u7FFB\u8BD1",features:['\u9075\u5FAA\u4E2D\u56FD\u4F20\u7EDF"\u4FE1\u8FBE\u96C5"\u7FFB\u8BD1\u7406\u5FF5',"\u8FFD\u6C42\u6587\u5316\u548C\u54F2\u5B66\u5C42\u9762\u7684\u4F20\u8FBE","\u6700\u7EC8\u8FFD\u6C42\u7B80\u6D01\u4E14\u5177\u53E4\u97F5\u7684\u8868\u8FBE"]},{id:"reflection",name:"\u53CD\u601D\u7FFB\u8BD1",description:"\u5148\u76F4\u8BD1\uFF0C\u5728\u8BA9\u5927\u6A21\u578B\u626E\u6F14\u4E13\u5BB6\u5BF9\u76F4\u8BD1\u7684\u7ED3\u679C\u6309\u6307\u5B9A\u7EF4\u5EA6\u8FDB\u884C\u53CD\u601D\uFF0C\u6700\u540E\u6839\u636E\u53CD\u601D\u7684\u7ED3\u679C\u5BF9\u76F4\u8BD1\u7684\u7ED3\u679C\u8FDB\u884C\u4F18\u5316\uFF0C\u8BE5\u7B56\u7565\u5BF9\u7FFB\u8BD1\u7ED3\u679C\u8FDB\u884C\u81EA\u6211\u8BC4\u4F30\u548C\u6539\u8FDB\uFF0C\u63D0\u9AD8\u7FFB\u8BD1\u51C6\u786E\u6027",applicableScenes:"\u4E13\u4E1A\u51FA\u7248\u7269\u3001\u6B63\u5F0F\u6587\u4EF6\u3001\u5BF9\u51C6\u786E\u6027\u548C\u8D28\u91CF\u8981\u6C42\u9AD8\u7684\u7FFB\u8BD1",features:["\u901A\u8FC7\u53CD\u9988\u8FED\u4EE3\u63D0\u9AD8\u7FFB\u8BD1\u8D28\u91CF","\u4E13\u6CE8\u4E8E\u7EA0\u6B63\u9519\u8BEF\u548C\u63D0\u5347\u98CE\u683C","\u9002\u5408\u590D\u6742\u6216\u4E13\u4E1A\u5185\u5BB9"]},{id:"cot",name:"COT\u7FFB\u8BD1",description:"\u901A\u8FC7\u601D\u8003\u94FE(Chain of Thought)\u8FC7\u7A0B\uFF0C\u5148\u7528\u7279\u5B9A\u8BED\u8A00\u63A8\u7406\u5206\u6790\u539F\u6587\uFF0C\u518D\u7ED9\u51FA\u76EE\u6807\u8BED\u8A00\u7FFB\u8BD1",applicableScenes:"\u6982\u5FF5\u590D\u6742\u6216\u9700\u8981\u6DF1\u5165\u7406\u89E3\u7684\u5185\u5BB9\uFF0C\u4E13\u4E1A\u9886\u57DF\u6587\u672C",features:["\u7FFB\u8BD1\u524D\u5148\u8FDB\u884C\u660E\u786E\u7684\u63A8\u7406\u8FC7\u7A0B","\u63D0\u9AD8\u5BF9\u590D\u6742\u5185\u5BB9\u7684\u7406\u89E3\u51C6\u786E\u6027","\u4F7F\u7FFB\u8BD1\u8FC7\u7A0B\u66F4\u900F\u660E","\u53EF\u7528\u4E8E\u5904\u7406\u9700\u8981\u4E13\u4E1A\u77E5\u8BC6\u80CC\u666F\u7684\u5185\u5BB9"]}]},693:function(e,t,s){"use strict";var a=s("5893");s("7294");var r=s("745"),n=s("8871"),l=s("6930");s("9977"),r.createRoot(document.getElementById("root")).render((0,a.jsx)(n.w,{children:(0,a.jsx)(l.Z,{})}))},946:function(e,t,s){"use strict";s.d(t,{D:function(){return r},M:function(){return a}}),s("777"),s("4510"),s("2394");class a extends Error{getErrorType(){switch(this.code){case 401:return"\u8EAB\u4EFD\u9A8C\u8BC1\u5931\u8D25";case 403:return"\u8BBF\u95EE\u88AB\u62D2\u7EDD";case 429:return"\u8BF7\u6C42\u8FC7\u4E8E\u9891\u7E41";case 500:return"\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF";default:return"\u8BF7\u6C42\u5931\u8D25"}}constructor(e){super(e.msg),this.name="ApiError",this.code=e.code,this.success=e.success}}class r{static async handleApiResponse(e){let t=await e.text();try{let s=JSON.parse(t);if(!e.ok||!1===s.success){let t={code:s.code||e.status,msg:s.msg||s.message||e.statusText||"\u672A\u77E5\u9519\u8BEF",success:!1};throw new a(t)}return s}catch(t){if(t instanceof a)throw t;throw new a({code:e.status,msg:e.statusText||"\u7F51\u7EDC\u8BF7\u6C42\u5931\u8D25",success:!1})}}static async uploadFile(e,t){let s=new FormData;s.append("file",e),s.append("purpose","agent");let a=await fetch(`${this.BASE_URL}/paas/v4/files`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:s});return this.handleApiResponse(a)}static async createDocTranslationTask(e,t,s,a){let r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],n={agent_id:"doc_translation_agent",messages:[{role:"user",content:[{type:"file_id",file_id:e}]}],custom_variables:{from_lang:t,to_lang:s,should_translate_image:r}};console.log("\u521B\u5EFA\u7FFB\u8BD1\u4EFB\u52A1\u8BF7\u6C42:",{url:`${this.DOC_TRANSLATION_BASE_URL}/v1/agents`,body:n});let l=await fetch(`${this.DOC_TRANSLATION_BASE_URL}/v1/agents`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Accept-Language":"zh",Authorization:a,"Content-Type":"application/json;charset=UTF-8","Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"include",body:JSON.stringify(n)}),i=await this.handleApiResponse(l);console.log("\u521B\u5EFA\u7FFB\u8BD1\u4EFB\u52A1\u54CD\u5E94:",i);let o=i.data||i;return console.log("\u5B9E\u9645\u4EFB\u52A1\u6570\u636E:",o),o}static async queryDocTranslationResult(e,t){let s=await fetch(`${this.DOC_TRANSLATION_BASE_URL}/v1/agents/async-result`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Accept-Language":"zh",Authorization:t,"Content-Type":"application/json;charset=UTF-8","Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"include",body:JSON.stringify({async_id:e,agent_id:"doc_translation_agent"})});return this.handleApiResponse(s)}static async pollDocTranslationResult(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:60,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3;if(!e||"undefined"===e)throw new a({code:400,msg:"\u5F02\u6B65\u4EFB\u52A1ID\u65E0\u6548\uFF0C\u65E0\u6CD5\u67E5\u8BE2\u7FFB\u8BD1\u7ED3\u679C",success:!1});if(!t)throw new a({code:400,msg:"API\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A",success:!1});console.log("\u5F00\u59CB\u8F6E\u8BE2\u7FFB\u8BD1\u7ED3\u679C:",{asyncId:e,maxAttempts:r,interval:n});let l=0;for(;l<r;)try{console.log(`\u{7B2C} ${l+1} \u{6B21}\u{67E5}\u{8BE2}\u{7FFB}\u{8BD1}\u{7ED3}\u{679C}:`,e);let o=await this.queryDocTranslationResult(e,t);if(console.log("\u67E5\u8BE2\u7ED3\u679C:",{status:o.status,asyncId:o.async_id}),s(o.status,o),"success"===o.status)return console.log("\u7FFB\u8BD1\u5B8C\u6210:",o),o;if("failed"===o.status){var i;throw new a({code:500,msg:(null===(i=o.error)||void 0===i?void 0:i.message)||"\u6587\u6863\u7FFB\u8BD1\u4EFB\u52A1\u5931\u8D25",success:!1})}++l<r&&(console.log(`\u{7B49}\u{5F85} ${n/1e3} \u{79D2}\u{540E}\u{8FDB}\u{884C}\u{4E0B}\u{6B21}\u{67E5}\u{8BE2}...`),await new Promise(e=>setTimeout(e,n)))}catch(e){if(console.error("\u67E5\u8BE2\u7FFB\u8BD1\u7ED3\u679C\u51FA\u9519:",e),e instanceof a)throw e;throw new a({code:0,msg:`\u{67E5}\u{8BE2}\u{7FFB}\u{8BD1}\u{7ED3}\u{679C}\u{5931}\u{8D25}: ${e.message}`,success:!1})}throw new a({code:408,msg:"\u7FFB\u8BD1\u4EFB\u52A1\u8D85\u65F6\uFF0C\u8BF7\u7A0D\u540E\u624B\u52A8\u67E5\u8BE2\u7ED3\u679C",success:!1})}static async streamTranslation(e,t,s,r){try{var n,l,i,o,c,d;let r=[];e.text&&r.push({type:"text",text:e.text}),e.fileId&&r.push({type:"file",file_id:e.fileId});let u=await fetch(`${this.BASE_URL}/v1/agents`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.apiKey}`},body:JSON.stringify({agent_id:"general_translation",stream:!0,messages:[{role:"user",content:r}],custom_variables:{source_lang:e.sourceLang,target_lang:e.targetLang,strategy:e.strategy}})});if(!u.ok){let e=await u.text();try{let t=JSON.parse(e),s={code:t.code||u.status,msg:t.msg||t.message||u.statusText||"\u7FFB\u8BD1\u8BF7\u6C42\u5931\u8D25",success:!1};throw new a(s)}catch(t){let e={code:u.status,msg:u.statusText||"\u7FFB\u8BD1\u8BF7\u6C42\u5931\u8D25",success:!1};throw new a(e)}}let m=null===(n=u.body)||void 0===n?void 0:n.getReader();if(!m)throw new a({code:500,msg:"\u65E0\u6CD5\u8BFB\u53D6\u54CD\u5E94\u6D41",success:!1});let x=new TextDecoder;for(;;){let{done:e,value:r}=await m.read();if(e){s();break}for(let e of x.decode(r).split("\n"))if(e.startsWith("data: ")){let r=e.slice(6);if("[DONE]"===r){s();return}try{let e=JSON.parse(r);if(e.error){let t={code:e.error.code||500,msg:e.error.message||"\u6D41\u5F0F\u4F20\u8F93\u4E2D\u53D1\u751F\u9519\u8BEF",success:!1};throw new a(t)}let s=null===(d=e.choices)||void 0===d?void 0:null===(c=d[0])||void 0===c?void 0:null===(o=c.messages)||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:null===(l=i.content)||void 0===l?void 0:l.text;s&&t(s)}catch(e){if(e instanceof a)throw e}}}}catch(e){e instanceof a?r(e):r(new a({code:0,msg:`\u{7F51}\u{7EDC}\u{8FDE}\u{63A5}\u{5931}\u{8D25}: ${e.message}`,success:!1}))}}}r.BASE_URL="https://open.bigmodel.cn/api",r.DOC_TRANSLATION_BASE_URL="https://bigmodel.cn/api"},9568:function(e,t,s){"use strict";s.d(t,{$g:function(){return r},Gx:function(){return o},UU:function(){return l},qw:function(){return n},yu:function(){return i}});var a=s("4220");let r=(0,s("1591").O4)("user-config",{apiKey:"",sourceLang:"auto",targetLang:"zh-CN",strategy:"general"}),n=(0,a.cn)([]),l=(0,a.cn)(!1);(0,a.cn)(null);let i=(0,a.cn)(null),o=(0,a.cn)([])},9977:function(e,t,s){"use strict";s.r(e.exports={})}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return r[e].call(s.exports,s,s.exports,l),s.exports}l.m=r,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},l.k=function(e){return""+e+".css"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],l.O=function(t,s,a,r){if(s){r=r||0;for(var n=e.length;n>0&&e[n-1][2]>r;n--)e[n]=e[n-1];e[n]=[s,a,r];return}for(var i=1/0,n=0;n<e.length;n++){for(var s=e[n][0],a=e[n][1],r=e[n][2],o=!0,c=0;c<s.length;c++)i>=r&&Object.keys(l.O).every(function(e){return l.O[e](s[c])})?s.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(n--,1);var d=a();void 0!==d&&(t=d)}}return t},l.p="./",t={980:0},l.O.j=function(e){return 0===t[e]},s=function(e,s){var a=s[0],r=s[1],n=s[2],i,o,c=0;if(a.some(function(e){return 0!==t[e]})){for(i in r)l.o(r,i)&&(l.m[i]=r[i]);if(n)var d=n(l)}for(e&&e(s);c<a.length;c++)o=a[c],l.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return l.O(d)},(a=self.webpackChunk_=self.webpackChunk_||[]).forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a));var i=l.O(void 0,["126","361","106"],function(){return l("693")});l.O(i)}();